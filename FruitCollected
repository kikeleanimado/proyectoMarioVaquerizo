using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class FruitCollected : MonoBehaviour
{
    

    //Necesitampos poner cuando alguien entre en contacto con el collider.

    private void OnTriggerEnter2D(Collider2D collision)
    {
        if (collision.CompareTag ("Player")) //Si la colision, que es con la que entramos en contacto tenga un tag. El tag es player.
        {
            //Hay que desactivar el sprite renderer. en el momento que cojamos la manzana se desactivara el sprite d ela manzana y activariamos el componente collected.
            GetComponent<SpriteRenderer>().enabled = false; //Desactivamos el sprit de la manzana.
            gameObject.transform.GetChild(0).gameObject.SetActive(true);   //Ahora tenemos quecoger el objeto collected y activarlo ene l momneto que cogemos la fruta. GetChild es para coger el hijo en le punto (0) el primerhijo que tenga , que es el objeto collected.



            FindObjectOfType<FruitManager>().AllFruitsCollected(); //Busca un objeto dentro del mundo que tenga este script FruitManager. Y llamamos al metodo AllFruitsCollected
            
            //Despues de esto tenemosq ue eliminar la fruta 
            Destroy(gameObject, 0.5f);
            

        }

        //

           


    }








}
